<h1 align="center">luci-app-daed-next</h1>
<p align="center">
  <img width="100" src="https://user-images.githubusercontent.com/16485166/261898124-7193042f-e162-43dc-9dcf-db02e24e748d.png" />
</p>
<p align="center">
  <b>A Linux high-performance transparent proxy solution based on eBPF.</b>
  <br />
  <b>https://github.com/daeuniverse/daed-revived-next</b>
</p>

-----------

## Build on OpenWrt Official 23.05/SNAPSHOT

### 1. Get Source

```bash
git clone https://github.com/LovinYarn/luci-app-daed-next package/daed-next
```

### 2. Install clang-15, refer to https://apt.llvm.org

```bash
apt-get update
apt-get install -y clang-15
```

### 3. Compile Options (Requirements for `DAED` to work)

- Enable eBPF support, add content to: `.config`
  ```
  # DAE
  CONFIG_DEVEL=y
  CONFIG_KERNEL_DEBUG_INFO=y
  # CONFIG_KERNEL_DEBUG_INFO_REDUCED is not set
  CONFIG_KERNEL_DEBUG_INFO_BTF=y
  CONFIG_KERNEL_CGROUPS=y
  CONFIG_KERNEL_CGROUP_BPF=y
  CONFIG_KERNEL_BPF_EVENTS=y
  CONFIG_BPF_TOOLCHAIN_HOST=y
  CONFIG_KERNEL_XDP_SOCKETS=y
  CONFIG_PACKAGE_kmod-xdp-sockets-diag=y
  CONFIG_PACKAGE_kmod-sched-bpf=y
  CONFIG_PACKAGE_kmod-sched-core=y
  ```

### 4. Build luci-app-daed-next

```bash
make menuconfig # choose LUCI -> Applications -> luci-app-daed-next
make package/daed-next/luci-app-daed-next/compile V=s # build luci-app-daed-next
```
